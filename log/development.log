  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMpesas (20230317104624)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "MpesaReceiptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230317104624"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAccessTokens (20230317104738)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230317104738"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-17 10:48:15.689663"], ["updated_at", "2023-03-17 10:48:15.689663"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: dee0-41-80-112-231.in.ngrok.io
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: dee0-41-80-112-231.in.ngrok.io
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: dee0-41-80-112-231.in.ngrok.io
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: dee0-41-80-112-231.in.ngrok.io
Started GET "/" for 41.80.112.231 at 2023-03-17 14:32:44 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/peshy/.rbenv/versions/3.0.1/lib/ruby/gems/3.0.0/gems/railties-6.1.7.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/peshy/.rbenv/versions/3.0.1/lib/ruby/gems/3.0.0/gems/railties-6.1.7.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 10.6ms | Allocations: 431)
Completed 200 OK in 24ms (Views: 15.0ms | ActiveRecord: 0.0ms | Allocations: 3772)


Started GET "/favicon.ico" for 41.80.112.231 at 2023-03-17 14:32:52 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 41.80.113.195 at 2023-03-18 19:00:08 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/peshy/.rbenv/versions/3.0.1/lib/ruby/gems/3.0.0/gems/railties-6.1.7.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/peshy/.rbenv/versions/3.0.1/lib/ruby/gems/3.0.0/gems/railties-6.1.7.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 11.2ms | Allocations: 431)
Completed 200 OK in 20ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 3371)


Started GET "/favicon.ico" for 41.80.113.195 at 2023-03-18 19:00:12 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/stkpush" for 41.80.113.195 at 2023-03-18 19:15:55 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"0715859934", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"0715859934", "amount"=>"1"}}
Completed 500 Internal Server Error in 617ms (ActiveRecord: 1.1ms | Allocations: 4452)


  
RestClient::BadRequest (400 Bad Request):
  
app/controllers/application_controller.rb:99:in `generate_access_token_request'
app/controllers/application_controller.rb:106:in `get_access_token'
app/controllers/application_controller.rb:27:in `stkpush'
Started GET "/" for 41.80.113.195 at 2023-03-18 19:16:15 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/peshy/.rbenv/versions/3.0.1/lib/ruby/gems/3.0.0/gems/railties-6.1.7.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/peshy/.rbenv/versions/3.0.1/lib/ruby/gems/3.0.0/gems/railties-6.1.7.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 10.0ms | Allocations: 213)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.0ms | Allocations: 1018)


Started GET "/favicon.ico" for 41.80.113.195 at 2023-03-18 19:16:18 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/stkpush" for 41.80.113.195 at 2023-03-18 19:17:10 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"0715859934", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"0715859934", "amount"=>"1"}}
Completed 500 Internal Server Error in 631ms (ActiveRecord: 1.0ms | Allocations: 2359)


  
RestClient::BadRequest (400 Bad Request):
  
app/controllers/application_controller.rb:99:in `generate_access_token_request'
app/controllers/application_controller.rb:106:in `get_access_token'
app/controllers/application_controller.rb:27:in `stkpush'
Started POST "/stkpush" for 41.80.113.195 at 2023-03-18 19:19:00 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"0715859934", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"0715859934", "amount"=>"1"}}
Completed 500 Internal Server Error in 558ms (ActiveRecord: 0.8ms | Allocations: 2371)


  
RestClient::BadRequest (400 Bad Request):
  
app/controllers/mpesas_controller.rb:99:in `generate_access_token_request'
app/controllers/mpesas_controller.rb:106:in `get_access_token'
app/controllers/mpesas_controller.rb:27:in `stkpush'
